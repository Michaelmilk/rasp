<!DOCTYPE html>
<html ng-app="pinicClient">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="tgmerge">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
    <script type="text/javascript" src="js/angular.js"></script>
    <script type="text/javascript" src="js/Chart.min.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
    <title>pinic client</title>
</head>

<body class="container">

    <!-- Header -->
    <header>
        <h1 class="text-center">pinic client</h1>
        <h2 class="text-center">- wow, such doge</h2>
    </header>

    <!-- Forwarder info section -->
    <div id="forwarder-div" ng-controller="ForwarderCtrl as forwarder">
        <h3>Forwarder相关</h3>

        <h4>Forwarder配置：</h4>
            <pre>{{ forwarder.config }}</pre>
            <button class="btn btn-primary" ng-click="forwarder.getConfig()">获取Forwarder配置</button>
        <hr/>

        <h4>Forwarder的Server列表：</h4>
            <pre>{{ forwarder.serverList }}</pre>
            <button class="btn btn-primary" ng-click="forwarder.listServers()">列出Forwarder的Server列表</button>
    </div>

    <hr/>

    <!-- Server info section -->
    <div id="server-div" ng-controller="ServerCtrl as server">
        <h3>Server相关</h3>

        <div class="form-group">
            <label>要操作的Server的ID：{{ server.serverId }}</label>
            <input type="text" class="form-control" placeholder="server_id" ng-model="server.serverId">
        </div>

        <h4>Server配置：</h4>
        <p><pre>{{ server.config }}</pre></p>
        <button class="btn btn-primary" ng-click="server.getConfig()">获取Server配置</button>

        <hr>

        <h4>Server的Node列表：</h4>
        <pre>{{ server.nodeList }}</pre>
        <button class="btn btn-primary" ng-click="server.listNodes()">列出Server的Node列表</button>

        <hr>

    </div>

    <!-- Node info section -->
    <div id="node-div" ng-controller="NodeCtrl as node">
        <h3>Node相关 {{ node.serverId }}</h3>

        <div class="form-group">
            <label>要操作的Server的ID：{{ node.serverId }}</label>
            <input type="text" class="form-control" placeholder="server_id" ng-model="node.serverId">
        </div>

        <div class="form-group">
            <label>要操作的Node的ID：{{ node.nodeId }}</label>
            <input type="text" class="form-control" placeholder="node_id" ng-model="node.nodeId">
        </div>

        <hr/>

        <h5>Node配置：</h5>
        <pre>{{ node.config }}</pre>
        <button class="btn btn-primary" ng-click="node.getConfig()">获取Node配置</button>

        <hr/>

    </div>

    <!-- Sensor info section -->
    <div id="sensor-div" ng-controller="SensorCtrl as sensor">
        <h3>Sensor相关</h3>

        <div class="form-group">
            <label>要操作的Server的ID：{{ sensor.serverId }}</label>
            <input type="text" class="form-control" placeholder="server_id" ng-model="sensor.serverId">
        </div>
        <div class="form-group">
            <label>要操作的Node的ID：{{ sensor.nodeId }}</label>
            <input type="text" class="form-control" placeholder="node_id" ng-model="sensor.nodeId">
        </div>
        <div class="form-group">
            <label>要操作的传感器的ID：{{ sensor.sensorId }}</label>
            <input type="text" class="form-control" placeholder="node_id" ng-model="sensor.sensorId">
        </div>

        <hr/>
        
        <h5>传感器值：</h5>
        <pre>{{ sensor.sensorData }}</pre>
        <button class="btn btn-primary" ng-click="sensor.getSensorData()">取传感器值</button>

        <hr/>

        <h5>监控传感器：</h5>
        <div class="form-group">
            <label>时间间隔(ms)：{{ sensor.chartInterval }}</label>
            <input type="text" class="form-control" ng-model="sensor.chartInterval" title="">
        </div>

        <p>
            <canvas id="sensor-chart" width="400" height="200"></canvas>
        </p>

        <button class="btn btn-primary" ng-click="sensor.startChart()" ng-hide="sensor.isChartRunning">开始绘图</button>
        <button class="btn btn-danger" ng-click="sensor.stopChart()" ng-show="sensor.isChartRunning">停止绘图</button>
        <button class="btn btn-primary" ng-click="sensor.clearChart()" ng-hide="sensor.isChartRunning">清除图像</button>

        <hr/>

    </div>

</body>
</html>